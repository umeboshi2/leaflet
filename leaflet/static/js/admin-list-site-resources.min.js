(function(){$(document).ready(function(){var c,b,d,a;$(".delete-confirm").hide();a=$("#main_id").val();c=$("#ctype").val();d=function(i,g,k){var e,h,j;h=$.parseJSON(i);e="entry-"+h.ctype+"-"+h.id;if(h.update==="deleted"){$("#"+e).empty();return $("#"+e).remove()}else{$("#"+e).empty();j="There are pages using this resource.";return $("#"+e).text(j)}};b=function(g,h){var f,e;f="entry-"+g+"-"+h;e={update:"delete",ctype:g,id:h};return $.post(window.location,e,d)};$(".delete-button").click(function(){var f,e;$(this).hide();f=$(this).attr("id").split("-")[2];e="div-confirm-"+c+"-"+f;return $("#"+e).show()});$(".cancel-button").click(function(){var g,e,f;g=$(this).attr("id").split("-")[2];f="div-confirm-"+c+"-"+g;$("#"+f).hide();e="delete-"+c+"-"+g;return $("#"+e).show()});$(".confirm-button").click(function(){var e;e=$(this).attr("id").split("-")[2];return b(c,e)});return $("#save-content").click(function(){var e;$("header > h2").text(window.location);e={update:"submit",content:editor.getValue()};post_to_url(window.location,e,"post");return $("header > h2").text("Posted")})})}).call(this);